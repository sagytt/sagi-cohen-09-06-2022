(function(){"use strict";var e={9088:function(e,t,a){var r=a(9242),o=(a(8937),a(3396));const i={class:"container"},s={class:"nav"},n=(0,o._)("a",{class:"navbar-brand",href:"#"},"Weather",-1),c={class:"links"},l={class:"form-check form-switch"},u=(0,o._)("label",{class:"form-check-label",for:"flexSwitchCheckDefault"},"Metric",-1),d=(0,o.Uk)("Home"),f=(0,o.Uk)(" | "),h=(0,o.Uk)("Favourites");function v(e,t,a,r,v,m){const p=(0,o.up)("router-link"),y=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)("div",i,[(0,o._)("nav",s,[n,(0,o._)("div",c,[(0,o._)("div",l,[(0,o._)("input",{class:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",checked:"",onClick:t[0]||(t[0]=t=>e.setMetric(!e.metric))}),u]),(0,o.Wm)(p,{to:"/",style:{margin:"10px"}},{default:(0,o.w5)((()=>[d])),_:1}),f,(0,o.Wm)(p,{to:"/favourites",style:{margin:"10px"}},{default:(0,o.w5)((()=>[h])),_:1})])]),(0,o.Wm)(y)])}var m=a(65),p={name:"App",computed:{...(0,m.Se)({metric:"isMetric"})},methods:{...(0,m.nv)(["setMetric"])}},y=a(89);const g=(0,y.Z)(p,[["render",v]]);var w=g,b=a(678),k=a(7139);const _=e=>((0,o.dD)("data-v-06b3fc31"),e=e(),(0,o.Cn)(),e),M={class:"home"},F=_((()=>(0,o._)("span",{"aria-hidden":"true"},[(0,o._)("i",{class:"bi bi-x-lg"})],-1))),D=[F],S={class:"search"},C=_((()=>(0,o._)("i",{class:"fa fa-search"},null,-1))),T={id:"datalistOptions"},x={key:0,class:"top"},L={style:{display:"flex"}},z=["src"],A={key:0},j={style:{display:"flex","align-items":"center","justify-content":"center"}},O={key:0},E={class:"bottom"};function N(e,t,a,i,s,n){const c=(0,o.up)("Forecast");return(0,o.wg)(),(0,o.iD)("div",M,[s.showModal?((0,o.wg)(),(0,o.iD)("div",{key:0,class:(0,k.C_)(["alert alert-dismissible",{show:s.showModal,fade:!s.showModal,"alert-success":s.modalSuccess,"alert-danger":s.modalError}]),role:"alert"},[(0,o.Uk)((0,k.zw)(s.modalMessage)+" ",1),(0,o._)("button",{type:"button",class:"btn","aria-label":"Close",onClick:t[0]||(t[0]=e=>s.showModal=!1)},D)],2)):(0,o.kq)("",!0),(0,o._)("div",S,[C,(0,o.wy)((0,o._)("input",{type:"text",list:"datalistOptions",class:"form-control",placeholder:"Search city...","onUpdate:modelValue":t[1]||(t[1]=e=>s.query=e)},null,512),[[r.nr,s.query]]),(0,o._)("datalist",T,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.results,((e,t)=>((0,o.wg)(),(0,o.iD)("option",{key:t},(0,k.zw)(e.LocalizedName),1)))),128))])]),(0,o._)("div",null,[s.forecasts[0]?((0,o.wg)(),(0,o.iD)("div",x,[(0,o._)("div",L,[(0,o._)("img",{src:"./assets/images/"+s.forecasts[0]["Day"]["Icon"]+"-s.png",width:"150",height:"90",alt:""},null,8,z),(0,o._)("div",null,[s.location?((0,o.wg)(),(0,o.iD)("h4",A,(0,k.zw)(s.location.LocalizedName),1)):(0,o.kq)("",!0),(0,o._)("h4",null,(0,k.zw)(s.forecasts[0]["Temperature"]["Maximum"]["Value"])+" "+(0,k.zw)(s.forecasts[0]["Temperature"]["Maximum"]["Unit"]),1)])]),(0,o._)("div",null,[(0,o._)("button",{type:"button",class:"btn",onClick:t[2]||(t[2]=e=>n.toggleFavourite())},[(0,o._)("i",{class:"bi bi-heart-fill",style:(0,k.j5)({color:n.isFavourite()?"red":"grey"})},null,4),(0,o.Uk)(" "+(0,k.zw)(n.isFavourite()?"Remove from Favourites":"Add to Favourites"),1)])])])):(0,o.kq)("",!0),(0,o._)("div",null,[(0,o._)("div",j,[s.forecasts[0]?((0,o.wg)(),(0,o.iD)("h1",O,(0,k.zw)(s.forecasts[0]["Day"]["LongPhrase"]),1)):(0,o.kq)("",!0)])]),(0,o._)("div",E,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.forecasts,((e,t)=>((0,o.wg)(),(0,o.j4)(c,{location:s.location,forecast:e,key:t},null,8,["location","forecast"])))),128))])])])}function q(e,t){return null}const I={},K=(0,y.Z)(I,[["render",q],["__scopeId","data-v-717e854a"]]);var P=K;const U={class:"card",style:{width:"200px",margin:"5px"}},Z={class:"card-header"},R={class:"card-body"},B={class:"card-title"},H={class:"card-text"},V=["src"],W={class:"card-body"},Q={class:"card-text"};function X(e,t,a,r,i,s){return(0,o.wg)(),(0,o.iD)("div",U,[(0,o._)("div",Z,(0,k.zw)(s.getDay()),1),(0,o._)("div",R,[(0,o._)("h5",B,(0,k.zw)(a.location.LocalizedName),1),(0,o._)("p",H,(0,k.zw)(a.forecast["Temperature"]["Maximum"]["Value"])+" "+(0,k.zw)(a.forecast["Temperature"]["Maximum"]["Unit"]),1)]),(0,o._)("img",{src:"./assets/images/"+a.forecast["Day"]["Icon"]+"-s.png",width:"150",height:"90",style:{margin:"auto"},alt:"..."},null,8,V),(0,o._)("div",W,[(0,o._)("h5",Q,(0,k.zw)(a.forecast["Day"]["ShortPhrase"]),1)])])}var Y={name:"Forecast",props:["forecast","location"],data(){return{}},methods:{getDay(){const e=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];let t=new Date(this.forecast.Date).getDay();return e[t]}}};const $=(0,y.Z)(Y,[["render",X]]);var G=$,J=a(5254);let ee=new J.Z;var te={name:"HomeView",components:{Search:P,Forecast:G},data(){return{location:{Version:1,Key:"215854",Type:"City",Rank:31,LocalizedName:"Tel Aviv",Country:{ID:"IL",LocalizedName:"Israel"},AdministrativeArea:{ID:"TA",LocalizedName:"Tel Aviv"}},results:[],query:null,forecasts:[],showModal:!1,modalSuccess:!1,modalError:!1,modalMessage:null}},computed:{...(0,m.Se)({favourites:"getFavourites",isMetric:"isMetric"})},methods:{...(0,m.nv)(["removeFavourite","addFavourite"]),isFavourite(){let e=this.favourites.find((e=>e.Key===this.location.Key));return!!e},toggleFavourite(){this.isFavourite()?(this.removeFavourite(this.location),this.modalSuccess=!0,this.modalMessage="Successfully removed from favourites",this.showModal=!0,setInterval((()=>{this.showModal=!1}),5e3)):(this.addFavourite(this.location),this.modalSuccess=!0,this.modalMessage="Successfully added to favourites",this.showModal=!0,setInterval((()=>{this.showModal=!1}),2e3))}},watch:{async query(e,t){let a=this.results.filter((t=>t?.LocalizedName===e))[0];a?this.location=a:e.length>2&&(this.results=await ee.suggestLocation(e))},async location(e,t){console.log("Location changed"),this.forecasts=await ee.getFiveDayForecast(e["Key"]),this.isFavourite(this.location["Key"])},async isMetric(e,t){e!==t&&(this.forecasts=await ee.getFiveDayForecast(this.location["Key"]))}},async mounted(){this.forecasts=await ee.getFiveDayForecast(this.location["Key"]),console.log(this.forecasts),this.favourite=this.isFavourite(this.location["Key"])}};const ae=(0,y.Z)(te,[["render",N],["__scopeId","data-v-06b3fc31"]]);var re=ae;const oe=[{path:"/",name:"home",component:re},{path:"/favourites",name:"about",component:()=>a.e(443).then(a.bind(a,9157))}],ie=(0,b.p7)({history:(0,b.r5)(),routes:oe});var se=ie,ne=a(4239);(0,r.ri)(w).use(ne.Z).use(se).mount("#app")},5254:function(e,t,a){a.d(t,{Z:function(){return s}});var r=a(6265),o=a.n(r),i=a(4239);class s{async suggestLocation(e){let t="https://dataservice.accuweather.com/locations/v1/cities/autocomplete",a=await o().get(t,{params:{apikey:"qi6PRflc0jKo0pnMAT5asQDX0ULRIEBh",q:e}});return a.data}async getFiveDayForecast(e){let t=`https://dataservice.accuweather.com/forecasts/v1/daily/5day/${e}`,a=await o().get(t,{params:{apikey:"qi6PRflc0jKo0pnMAT5asQDX0ULRIEBh",details:!0,metric:i.Z.state.isMetric}});return a.data["DailyForecasts"]}async getFavouriteData(e){let t=`https://dataservice.accuweather.com/forecasts/v1/daily/1day/${e}`,a=await o().get(t,{params:{apikey:"qi6PRflc0jKo0pnMAT5asQDX0ULRIEBh",details:!0,metric:i.Z.state.isMetric}});return a.data["DailyForecasts"]}}},4239:function(e,t,a){var r=a(65);t["Z"]=(0,r.MT)({state:{favourites:[],isMetric:!0},getters:{getFavourites(e){return e.favourites},isMetric(e){return e.isMetric}},mutations:{add(e,t){e.favourites=[...e.favourites,t]},remove(e,t){e.favourites=e.favourites.filter((e=>e.LocalizedName!==t.LocalizedName))},updateMetric(e,t){e.isMetric=t}},actions:{addFavourite(e,t){e.commit("add",t)},removeFavourite(e,t){e.commit("remove",t)},setMetric(e,t){e.commit("updateMetric",t)}},modules:{}})}},t={};function a(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,a),i.exports}a.m=e,function(){var e=[];a.O=function(t,r,o,i){if(!r){var s=1/0;for(u=0;u<e.length;u++){r=e[u][0],o=e[u][1],i=e[u][2];for(var n=!0,c=0;c<r.length;c++)(!1&i||s>=i)&&Object.keys(a.O).every((function(e){return a.O[e](r[c])}))?r.splice(c--,1):(n=!1,i<s&&(s=i));if(n){e.splice(u--,1);var l=o();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,o,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,r){return a.f[r](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/about.37530f81.js"}}(),function(){a.miniCssF=function(e){return"css/about.4487c7e8.css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="weather:";a.l=function(r,o,i,s){if(e[r])e[r].push(o);else{var n,c;if(void 0!==i)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var d=l[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){n=d;break}}n||(c=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",t+i),n.src=r),e[r]=[o];var f=function(t,a){n.onerror=n.onload=null,clearTimeout(h);var o=e[r];if(delete e[r],n.parentNode&&n.parentNode.removeChild(n),o&&o.forEach((function(e){return e(a)})),t)return t(a)},h=setTimeout(f.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=f.bind(null,n.onerror),n.onload=f.bind(null,n.onload),c&&document.head.appendChild(n)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/sagi-cohen-09-06-2022/"}(),function(){var e=function(e,t,a,r){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css";var i=function(i){if(o.onerror=o.onload=null,"load"===i.type)a();else{var s=i&&("load"===i.type?"missing":i.type),n=i&&i.target&&i.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=s,c.request=n,o.parentNode.removeChild(o),r(c)}};return o.onerror=o.onload=i,o.href=t,document.head.appendChild(o),o},t=function(e,t){for(var a=document.getElementsByTagName("link"),r=0;r<a.length;r++){var o=a[r],i=o.getAttribute("data-href")||o.getAttribute("href");if("stylesheet"===o.rel&&(i===e||i===t))return o}var s=document.getElementsByTagName("style");for(r=0;r<s.length;r++){o=s[r],i=o.getAttribute("data-href");if(i===e||i===t)return o}},r=function(r){return new Promise((function(o,i){var s=a.miniCssF(r),n=a.p+s;if(t(s,n))return o();e(r,n,o,i)}))},o={143:0};a.f.miniCss=function(e,t){var a={443:1};o[e]?t.push(o[e]):0!==o[e]&&a[e]&&t.push(o[e]=r(e).then((function(){o[e]=0}),(function(t){throw delete o[e],t})))}}(),function(){var e={143:0};a.f.j=function(t,r){var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise((function(a,r){o=e[t]=[a,r]}));r.push(o[2]=i);var s=a.p+a.u(t),n=new Error,c=function(r){if(a.o(e,t)&&(o=e[t],0!==o&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;n.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",n.name="ChunkLoadError",n.type=i,n.request=s,o[1](n)}};a.l(s,c,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,r){var o,i,s=r[0],n=r[1],c=r[2],l=0;if(s.some((function(t){return 0!==e[t]}))){for(o in n)a.o(n,o)&&(a.m[o]=n[o]);if(c)var u=c(a)}for(t&&t(r);l<s.length;l++)i=s[l],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(u)},r=self["webpackChunkweather"]=self["webpackChunkweather"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=a.O(void 0,[998],(function(){return a(9088)}));r=a.O(r)})();
//# sourceMappingURL=app.c89df0fb.js.map